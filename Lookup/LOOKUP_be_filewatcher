### vim:ft=zsh:foldmethod=marker
## filewatcher.com search backend for lookup
## Copyright: 2009, Frank Terbeck <ft@bewatermyfriend.org>

[[ -z ${lookup_complete} ]] && emulate -L zsh
[[ -n ${lookup_describe} ]] &&
    printf '%s' 'search filewatcher.com' &&
    return 0

local -a comp_args

if [[ -n ${lookup_complete} ]] ; then
    _message 'filewatcher search string'
    return 0
fi

local QUERY

QUERY="$*"
if [[ -z ${QUERY} ]] ; then
    printf 'usage: %s <query>\n' ${backend}
    return 1
fi

LOOKUP_browser "http://www.filewatcher.com/_/?q=${QUERY// /+}"
return $?
